# Generated by Django 5.0.13 on 2025-04-11 00:55

import django.contrib.gis.db.models.fields
import django.contrib.gis.geos.point
import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='CriticiteEquipement',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('actif', models.BooleanField(blank=True, null=True)),
                ('designation', models.CharField(max_length=255)),
                ('ordre', models.IntegerField(blank=True, default=0, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='CriticiteNC',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('actif', models.BooleanField(default=True)),
                ('designation', models.CharField(max_length=255)),
                ('ordre', models.IntegerField()),
            ],
        ),
        migrations.CreateModel(
            name='DonneeMesure',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('column_label', models.CharField(blank=True, max_length=255, null=True)),
                ('is_active', models.BooleanField(blank=True, null=True)),
                ('donne_mesuree', models.CharField(blank=True, max_length=255, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='EspaceSQL',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('actif', models.BooleanField(default=True)),
                ('code_espace', models.CharField(max_length=255)),
                ('intitule', models.CharField(max_length=255)),
                ('geom', django.contrib.gis.db.models.fields.PolygonField(blank=True, null=True, srid=4326)),
            ],
        ),
        migrations.CreateModel(
            name='FamilleEquipement',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('actif', models.BooleanField(default=True)),
                ('code_famille', models.CharField(max_length=255)),
                ('designation', models.CharField(max_length=255)),
                ('module', models.CharField(blank=True, max_length=255, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='Frequence',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('actif', models.BooleanField(blank=True, null=True)),
                ('couleur', models.CharField(blank=True, max_length=100, null=True)),
                ('designation', models.CharField(blank=True, max_length=255, null=True)),
                ('ordre', models.PositiveIntegerField(blank=True, null=True)),
                ('valeur', models.FloatField(blank=True, null=True)),
                ('value', models.FloatField(blank=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='ImportanceGeo',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('actif', models.BooleanField(default=True)),
                ('designation', models.CharField(max_length=255)),
                ('ordre', models.IntegerField()),
            ],
        ),
        migrations.CreateModel(
            name='Intervention',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('cloture', models.BooleanField(blank=True, default=False, null=True)),
                ('commentaire', models.CharField(blank=True, max_length=255, null=True)),
                ('content_type_one', models.CharField(blank=True, max_length=255, null=True)),
                ('content_type_two', models.CharField(blank=True, max_length=255, null=True)),
                ('date', models.DateTimeField(blank=True, null=True)),
                ('date_cloture', models.DateTimeField(blank=True, null=True)),
                ('date_debut', models.DateTimeField(blank=True, null=True)),
                ('date_depart_previsionnel', models.DateTimeField(blank=True, null=True)),
                ('date_fin', models.DateTimeField(blank=True, null=True)),
                ('date_fin_prev', models.DateTimeField(blank=True, null=True)),
                ('index_intervention', models.IntegerField(blank=True, null=True)),
                ('nom_fichier_1', models.CharField(blank=True, max_length=255, null=True)),
                ('nom_fichier_2', models.CharField(blank=True, max_length=255, null=True)),
                ('ordre', models.IntegerField(blank=True, null=True)),
                ('prestatire_sous_traitant', models.CharField(blank=True, max_length=255, null=True)),
                ('statut', models.IntegerField(blank=True, null=True)),
                ('taille', models.IntegerField(blank=True, null=True)),
                ('taux_avancement', models.IntegerField(blank=True, null=True)),
                ('uid_one', models.CharField(blank=True, max_length=255, null=True)),
                ('uid_two', models.CharField(blank=True, max_length=255, null=True)),
                ('contrat', models.CharField(blank=True, max_length=255, null=True)),
                ('fournisseur', models.CharField(blank=True, max_length=255, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='LotTechnique',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('actif', models.BooleanField(default=True)),
                ('code_lot', models.CharField(max_length=255)),
                ('designation', models.CharField(max_length=255)),
                ('module', models.CharField(blank=True, max_length=255, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='Marche',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('actif', models.BooleanField(blank=True, default=True, null=True)),
                ('alloti', models.BooleanField(blank=True, default=False, null=True)),
                ('code_marche', models.CharField(blank=True, max_length=255, null=True)),
                ('condition_pfpm', models.CharField(blank=True, max_length=255, null=True)),
                ('condition_pprestataire', models.CharField(blank=True, max_length=255, null=True)),
                ('date_approbation', models.DateTimeField(blank=True, null=True)),
                ('date_attribution', models.DateTimeField(blank=True, null=True)),
                ('date_fin', models.DateTimeField(blank=True, null=True)),
                ('date_ordre_service', models.DateTimeField(blank=True, null=True)),
                ('date_effective', models.DateTimeField(blank=True, null=True)),
                ('designation', models.CharField(blank=True, max_length=255, null=True)),
                ('duree_initiale', models.IntegerField(blank=True, null=True)),
                ('duree_preavis_fpm', models.IntegerField(blank=True, null=True)),
                ('duree_preavis_prestataire', models.IntegerField(blank=True, null=True)),
                ('duree_renouvellement', models.IntegerField(blank=True, null=True)),
                ('nombre_lots', models.IntegerField(blank=True, null=True)),
                ('nombre_renouvellement', models.IntegerField(blank=True, null=True)),
                ('nombre_sites', models.IntegerField(blank=True, null=True)),
                ('numero_marche', models.CharField(blank=True, max_length=255, null=True)),
                ('renouvellement', models.BooleanField(blank=True, default=False, null=True)),
                ('technique', models.BooleanField(blank=True, default=False, null=True)),
                ('rankin_marche', models.CharField(blank=True, max_length=255, null=True)),
                ('type_prestation', models.CharField(blank=True, max_length=255, null=True)),
                ('support_contractuel', models.CharField(blank=True, max_length=255, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='Pays',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('actif', models.BooleanField(default=True)),
                ('designation', models.CharField(max_length=255)),
            ],
        ),
        migrations.CreateModel(
            name='Prestataire',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('adresse', models.CharField(max_length=255)),
                ('cnss', models.CharField(max_length=255)),
                ('code_prestataire', models.CharField(max_length=255)),
                ('email', models.CharField(max_length=255)),
                ('identifiant_fiscal', models.CharField(max_length=255)),
                ('logo_path', models.CharField(blank=True, max_length=255, null=True)),
                ('logo_source', models.CharField(blank=True, max_length=255, null=True)),
                ('raison_sociale', models.CharField(max_length=255)),
                ('registre_commerce', models.CharField(max_length=255)),
                ('site_web', models.CharField(max_length=255)),
                ('taxe_prof', models.CharField(max_length=255)),
                ('id_forme_juridique', models.IntegerField()),
                ('id_ranking_prestataire', models.IntegerField()),
                ('id_societe_mere', models.IntegerField()),
                ('id_ville_param', models.IntegerField()),
            ],
        ),
        migrations.CreateModel(
            name='SiteSQL',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('adresse', models.CharField(max_length=255)),
                ('code_agence', models.CharField(max_length=255)),
                ('code_site', models.CharField(max_length=255)),
                ('intitule', models.CharField(max_length=255)),
                ('nombre_occupant', models.IntegerField()),
                ('peut_cloturer', models.BooleanField(default=False)),
                ('peut_valider', models.BooleanField(default=False)),
                ('photo_path', models.CharField(blank=True, max_length=255, null=True)),
                ('photo_source', models.CharField(blank=True, max_length=255, null=True)),
                ('statut', models.IntegerField()),
                ('superficie', models.IntegerField()),
            ],
        ),
        migrations.CreateModel(
            name='StatutAction',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('actif', models.BooleanField()),
                ('designation', models.CharField(max_length=255)),
                ('ordre', models.IntegerField()),
            ],
        ),
        migrations.CreateModel(
            name='StatutNC',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('actif', models.BooleanField()),
                ('designation', models.CharField(max_length=255)),
                ('ordre', models.PositiveIntegerField()),
            ],
        ),
        migrations.CreateModel(
            name='TypeEspace',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('actif', models.BooleanField(default=True)),
                ('designation', models.CharField(max_length=255)),
            ],
        ),
        migrations.CreateModel(
            name='TypeRealisation',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('actif', models.BooleanField(blank=True, default=True, null=True)),
                ('designation', models.CharField(blank=True, max_length=255, null=True)),
                ('ordre', models.IntegerField(blank=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='TypeSite',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('designation', models.CharField(max_length=255)),
            ],
        ),
        migrations.CreateModel(
            name='User',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('actif', models.BooleanField(default=True)),
                ('attempts', models.IntegerField(blank=True, null=True)),
                ('departement', models.CharField(blank=True, max_length=255, null=True)),
                ('device', models.CharField(blank=True, max_length=255, null=True)),
                ('directeur_agence', models.BooleanField(blank=True, default=False, null=True)),
                ('email', models.CharField(blank=True, max_length=255, null=True)),
                ('enabled', models.BooleanField(blank=True, default=True, null=True)),
                ('foc', models.IntegerField(blank=True, null=True)),
                ('fonction', models.CharField(blank=True, max_length=255, null=True)),
                ('gcmid', models.CharField(blank=True, max_length=255, null=True)),
                ('iam', models.CharField(blank=True, max_length=255, null=True)),
                ('last_login', models.DateTimeField(blank=True, null=True)),
                ('loked_date', models.DateTimeField(blank=True, null=True)),
                ('nom', models.CharField(blank=True, max_length=255, null=True)),
                ('notifiable', models.BooleanField(blank=True, default=False, null=True)),
                ('password', models.CharField(blank=True, max_length=255, null=True)),
                ('prenom', models.CharField(blank=True, max_length=255, null=True)),
                ('rest_tocken', models.CharField(blank=True, max_length=255, null=True)),
                ('role', models.CharField(blank=True, max_length=255, null=True)),
                ('tel', models.CharField(blank=True, max_length=255, null=True)),
                ('username', models.CharField(blank=True, max_length=255, null=True)),
                ('contact', models.CharField(blank=True, max_length=255, null=True)),
                ('fournisseur', models.CharField(blank=True, max_length=255, null=True)),
                ('password_changed_time', models.DateTimeField(blank=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='GroupeEquipement',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('actif', models.BooleanField(default=True)),
                ('designation', models.CharField(max_length=255)),
                ('id_famille_equipement', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.familleequipement')),
            ],
        ),
        migrations.CreateModel(
            name='EquipementSQL',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('actif', models.BooleanField(default=True)),
                ('code_barre', models.CharField(blank=True, max_length=255, null=True)),
                ('code_equipement', models.CharField(blank=True, max_length=255, null=True)),
                ('code_equipement_prestataire', models.CharField(blank=True, max_length=255, null=True)),
                ('condition_equipement', models.BooleanField(default=False)),
                ('date_desactivation', models.DateTimeField(blank=True, null=True)),
                ('date_fin_garantie', models.DateTimeField(blank=True, null=True)),
                ('date_installation', models.DateTimeField(blank=True, null=True)),
                ('date_reception', models.DateTimeField(blank=True, null=True)),
                ('etat', models.BooleanField(blank=True, default=False, null=True)),
                ('frn_installeur', models.CharField(blank=True, max_length=255, null=True)),
                ('lisible', models.BooleanField(blank=True, default=False, null=True)),
                ('nevragique', models.BooleanField(blank=True, default=False, null=True)),
                ('numero_marche', models.CharField(blank=True, max_length=255, null=True)),
                ('proprietaire_id', models.IntegerField(blank=True, null=True)),
                ('receptionne', models.BooleanField(blank=True, default=False, null=True)),
                ('id_espace_desservi', models.CharField(blank=True, max_length=255, null=True)),
                ('geom', django.contrib.gis.db.models.fields.PointField(blank=True, default=django.contrib.gis.geos.point.Point(-6.8349, 34.0205), null=True, srid=4326)),
                ('id_criticite_equipement', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.criticiteequipement')),
                ('id_espace', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.espacesql')),
                ('id_famille_equipement', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.familleequipement')),
                ('id_groupe_equipement', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.groupeequipement')),
            ],
        ),
        migrations.CreateModel(
            name='DetailPlanification',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('charge', models.IntegerField(blank=True, null=True)),
                ('content_type', models.CharField(blank=True, max_length=255, null=True)),
                ('lieu', models.CharField(blank=True, max_length=255, null=True)),
                ('nom_fichier', models.CharField(blank=True, max_length=255, null=True)),
                ('nombre', models.IntegerField(blank=True, null=True)),
                ('ordre_fam', models.IntegerField(blank=True, null=True)),
                ('ordre_lot', models.IntegerField(blank=True, null=True)),
                ('semaine', models.IntegerField(blank=True, null=True)),
                ('size', models.IntegerField(blank=True, null=True)),
                ('tache', models.CharField(blank=True, max_length=255, null=True)),
                ('task', models.BooleanField(blank=True, default=False, null=True)),
                ('uid', models.CharField(blank=True, max_length=255, null=True)),
                ('criticite_equipement', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.criticiteequipement')),
                ('equipement', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.equipementsql')),
                ('famille_equipement', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.familleequipement')),
                ('frequence', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.frequence')),
                ('groupe_equipement', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.groupeequipement')),
                ('lot_technique', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.lottechnique')),
            ],
        ),
        migrations.AddField(
            model_name='espacesql',
            name='id_importance',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.importancegeo'),
        ),
        migrations.CreateModel(
            name='Batiment',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('actif', models.BooleanField(default=True)),
                ('code_batiment', models.CharField(max_length=255)),
                ('intitule', models.CharField(max_length=255)),
                ('type_batiment', models.CharField(max_length=255)),
                ('idt_type_affectation', models.IntegerField()),
                ('id_importance', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.importancegeo')),
                ('id_site', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.sitesql')),
            ],
        ),
        migrations.CreateModel(
            name='InterventionAttachement',
            fields=[
                ('intervention', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, primary_key=True, serialize=False, to='donnees.intervention')),
                ('photo', models.CharField(max_length=255)),
            ],
            options={
                'db_table': 'intervention_attachement',
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='InterventionIntervenants',
            fields=[
                ('intervention', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, primary_key=True, serialize=False, to='donnees.intervention')),
                ('intervenant', models.CharField(max_length=255)),
            ],
            options={
                'db_table': 'intervention_intervenants',
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='InterventionPrestataire',
            fields=[
                ('intervention', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, primary_key=True, serialize=False, to='donnees.intervention')),
            ],
            options={
                'db_table': 'intervention_prestataire',
                'managed': True,
            },
        ),
        migrations.AddField(
            model_name='intervention',
            name='detail_planification',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.detailplanification'),
        ),
        migrations.AddField(
            model_name='familleequipement',
            name='id_lot',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.lottechnique'),
        ),
        migrations.CreateModel(
            name='NbrSite',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('nbr', models.IntegerField(blank=True, null=True)),
                ('id_famille', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.familleequipement')),
            ],
        ),
        migrations.AddField(
            model_name='equipementsql',
            name='id_nbr_site',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.nbrsite'),
        ),
        migrations.CreateModel(
            name='Niveau',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('actif', models.BooleanField(default=True)),
                ('code_niveau', models.CharField(max_length=255)),
                ('intitule', models.CharField(max_length=255)),
                ('url_web_service', models.URLField(blank=True, default='https://services2.arcgis.com/uaR6EOboD6BtHr7b/arcgis/rest/services/Map_WFS_TEST/FeatureServer/0', max_length=255, null=True)),
                ('id_batiment', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.batiment')),
                ('id_importance', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.importancegeo')),
            ],
        ),
        migrations.AddField(
            model_name='nbrsite',
            name='id_niveau',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.niveau'),
        ),
        migrations.AddField(
            model_name='espacesql',
            name='id_niveau',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.niveau'),
        ),
        migrations.CreateModel(
            name='NonConformite',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('equipement_dispo', models.BooleanField(default=True)),
                ('astreinte', models.BooleanField(blank=True, default=False, null=True)),
                ('code_signalement', models.CharField(max_length=255)),
                ('constate_par', models.IntegerField()),
                ('contact_prestataire', models.BinaryField(blank=True, max_length='max', null=True)),
                ('date', models.DateTimeField(blank=True, null=True)),
                ('date_debut_indisp', models.DateTimeField(blank=True, null=True)),
                ('date_fpm', models.DateTimeField(blank=True, null=True)),
                ('date_paliatif', models.DateTimeField(blank=True, null=True)),
                ('date_planification', models.DateTimeField(blank=True, null=True)),
                ('date_previsionnelle', models.DateTimeField(blank=True, null=True)),
                ('date_retablissement', models.DateTimeField(blank=True, null=True)),
                ('date_retablissement_final', models.DateTimeField(blank=True, null=True)),
                ('delai_intervention', models.TextField(blank=True, null=True)),
                ('descriptif', models.TextField(blank=True, null=True)),
                ('descriptif_fpm', models.TextField(blank=True, null=True)),
                ('diagnostic', models.TextField(blank=True, null=True)),
                ('email', models.CharField(blank=True, max_length=255, null=True)),
                ('equipement_saisie', models.CharField(blank=True, max_length=255, null=True)),
                ('espace_saisie', models.CharField(blank=True, max_length=255, null=True)),
                ('exterieur', models.BooleanField(blank=True, default=False, null=True)),
                ('fait_marquant', models.BooleanField(blank=True, default=False, null=True)),
                ('foc', models.IntegerField(blank=True, null=True)),
                ('date_annulation', models.DateTimeField(blank=True, null=True)),
                ('date_pencharge', models.DateTimeField(blank=True, null=True)),
                ('lot_saisie', models.CharField(blank=True, max_length=255, null=True)),
                ('mobile', models.BooleanField(blank=True, default=False, null=True)),
                ('motif_annulation', models.CharField(blank=True, max_length=255, null=True)),
                ('n_fnc', models.CharField(blank=True, max_length=255, null=True)),
                ('nc_retablie', models.BooleanField(default=False)),
                ('nom_fichier', models.CharField(blank=True, max_length=255, null=True)),
                ('partial', models.BooleanField(default=False)),
                ('photo_first', models.CharField(blank=True, max_length=255, null=True)),
                ('signale_par', models.CharField(blank=True, max_length=255, null=True)),
                ('st_prestataire', models.CharField(blank=True, max_length=255, null=True)),
                ('t_orp', models.BooleanField(default=False)),
                ('tel', models.CharField(blank=True, max_length=255, null=True)),
                ('titre', models.CharField(blank=True, max_length=255, null=True)),
                ('titre_prestataire', models.CharField(blank=True, max_length=255, null=True)),
                ('uid', models.CharField(blank=True, max_length=255, null=True)),
                ('valeur1', models.BooleanField(default=False)),
                ('valeur2', models.BooleanField(default=False)),
                ('valeur3', models.BooleanField(default=False)),
                ('valeur4', models.BooleanField(default=False)),
                ('prestation_service', models.CharField(blank=True, max_length=255, null=True)),
                ('batiment', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.batiment')),
                ('criticite_non_conformite', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.criticitenc')),
                ('equipement', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.equipementsql')),
                ('espace', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.espacesql')),
                ('famille_equipement', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.familleequipement')),
                ('importance_geographique', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.importancegeo')),
                ('lot_technique', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.lottechnique')),
                ('marche', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.marche')),
                ('niveau', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.niveau')),
                ('prestataire', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.prestataire')),
                ('prestataire_fpm', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='prestataire_fpm', to='donnees.prestataire')),
                ('prestataire_st', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='prestataire_st', to='donnees.prestataire')),
                ('site', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.sitesql')),
                ('statut_nc', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.statutnc')),
            ],
        ),
        migrations.CreateModel(
            name='Planification',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('date_debut', models.DateTimeField(blank=True, null=True)),
                ('date_fin', models.DateTimeField(blank=True, null=True)),
                ('intitule', models.CharField(blank=True, max_length=255, null=True)),
                ('t_orp', models.BooleanField(blank=True, default=False, null=True)),
                ('prestation', models.CharField(blank=True, max_length=255, null=True)),
                ('marche', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.marche')),
                ('prestataire', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.prestataire')),
                ('site', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.sitesql')),
            ],
        ),
        migrations.AddField(
            model_name='detailplanification',
            name='planification',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='donnees.planification'),
        ),
        migrations.AddField(
            model_name='marche',
            name='prestataire',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.prestataire'),
        ),
        migrations.AddField(
            model_name='equipementsql',
            name='prestataire_id',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.prestataire'),
        ),
        migrations.CreateModel(
            name='Region',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('actif', models.BooleanField(default=True)),
                ('designation', models.CharField(max_length=255)),
                ('id_pays', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='regions', to='donnees.pays')),
            ],
        ),
        migrations.CreateModel(
            name='Ronde',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('date_debut', models.DateTimeField()),
                ('actif', models.BooleanField(default=True)),
                ('date_desactivation', models.DateTimeField(blank=True, null=True)),
                ('description', models.TextField(blank=True, null=True)),
                ('frequence', models.IntegerField(blank=True, null=True)),
                ('profiles', models.CharField(max_length=255)),
                ('titre', models.CharField(max_length=255)),
                ('t_orp', models.BooleanField(default=False)),
                ('type_ronde', models.IntegerField(blank=True, null=True)),
                ('prestation', models.CharField(blank=True, max_length=255, null=True)),
                ('batiment', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.batiment')),
                ('equipement', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.equipementsql')),
                ('espace', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.espacesql')),
                ('niveau', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.niveau')),
                ('prestataire', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.prestataire')),
                ('cmsite', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.sitesql')),
                ('type_realisation', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.typerealisation')),
            ],
        ),
        migrations.CreateModel(
            name='RondeCommentaires',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('month', models.CharField(blank=True, max_length=255, null=True)),
                ('text', models.CharField(blank=True, max_length=255, null=True)),
                ('ronde', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='donnees.ronde')),
            ],
        ),
        migrations.CreateModel(
            name='RondeEvent',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('heure', models.IntegerField(blank=True, null=True)),
                ('jour', models.IntegerField(blank=True, null=True)),
                ('ronde', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='donnees.ronde')),
            ],
        ),
        migrations.CreateModel(
            name='RondeParametre',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('anotifier', models.BooleanField(blank=True, default=False, null=True)),
                ('graphe', models.BooleanField(blank=True, default=False, null=True)),
                ('is_max', models.BooleanField(blank=True, default=False, null=True)),
                ('seuil', models.FloatField(blank=True, null=True)),
                ('donnee_mesure', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.donneemesure')),
                ('ronde', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='donnees.ronde')),
            ],
        ),
        migrations.CreateModel(
            name='RondeReleve',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('comment', models.CharField(blank=True, max_length=255, null=True)),
                ('date', models.DateTimeField(blank=True, null=True)),
                ('date_saisie', models.DateTimeField(blank=True, null=True)),
                ('disponible', models.BooleanField(blank=True, default=False, null=True)),
                ('from_mobile', models.BooleanField(blank=True, default=False, null=True)),
                ('rondier', models.CharField(blank=True, max_length=255, null=True)),
                ('valeur', models.FloatField(blank=True, null=True)),
                ('ronde_event', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='donnees.rondeevent')),
                ('ronde_parametre', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='donnees.rondeparametre')),
            ],
        ),
        migrations.AddField(
            model_name='nbrsite',
            name='id_site',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.sitesql'),
        ),
        migrations.CreateModel(
            name='Action',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('budget_action', models.CharField(blank=True, max_length=255, null=True)),
                ('commentaire', models.TextField(blank=True, null=True)),
                ('content_type', models.CharField(blank=True, max_length=100, null=True)),
                ('date_debut', models.DateTimeField(blank=True, null=True)),
                ('date_fin_p', models.DateTimeField(blank=True, null=True)),
                ('date_fin', models.DateTimeField(blank=True, null=True)),
                ('date_suspens', models.DateTimeField(blank=True, null=True)),
                ('date_validation', models.DateTimeField(blank=True, null=True)),
                ('demande', models.CharField(blank=True, max_length=255, null=True)),
                ('detail_action', models.TextField(blank=True, null=True)),
                ('need_val', models.BooleanField()),
                ('nom_fichier', models.CharField(blank=True, max_length=255, null=True)),
                ('num_save', models.IntegerField(blank=True, null=True)),
                ('numero_action', models.CharField(blank=True, max_length=100, null=True)),
                ('pdr_conso', models.CharField(blank=True, max_length=100, null=True)),
                ('responsable', models.CharField(blank=True, max_length=255, null=True)),
                ('taux_avancement', models.CharField(blank=True, max_length=100, null=True)),
                ('technicien', models.CharField(blank=True, max_length=255, null=True)),
                ('uid', models.CharField(blank=True, max_length=255, null=True)),
                ('valid', models.BooleanField(blank=True, null=True)),
                ('valider_par', models.CharField(blank=True, max_length=255, null=True)),
                ('pst_action_id', models.IntegerField(blank=True, null=True)),
                ('idt_nc', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='donnees.nonconformite')),
                ('statut_action_id', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.statutaction')),
            ],
        ),
        migrations.CreateModel(
            name='HistoriqueNC',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('date', models.DateTimeField()),
                ('mobile', models.BooleanField(default=False)),
                ('utilisateur', models.CharField(max_length=255)),
                ('non_conformite', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='donnees.nonconformite')),
                ('statut_nc', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.statutnc')),
            ],
        ),
        migrations.AddField(
            model_name='espacesql',
            name='id_type_espace',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.typeespace'),
        ),
        migrations.AddField(
            model_name='detailplanification',
            name='type_realisation',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.typerealisation'),
        ),
        migrations.AddField(
            model_name='sitesql',
            name='id_type_site',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.typesite'),
        ),
        migrations.CreateModel(
            name='UniteMesure',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('is_active', models.BooleanField(blank=True, default=True, null=True)),
                ('unite_de_mesure', models.CharField(blank=True, max_length=255, null=True)),
                ('donnee_mesure', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.donneemesure')),
            ],
        ),
        migrations.AddField(
            model_name='rondeparametre',
            name='unite_de_mesure',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.unitemesure'),
        ),
        migrations.AddField(
            model_name='intervention',
            name='cloturer_par',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.user'),
        ),
        migrations.CreateModel(
            name='UserAffec',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('peux_cloturer', models.BooleanField(default=False)),
                ('peux_valider', models.BooleanField(default=False)),
                ('marche', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.marche')),
                ('prestataire', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.prestataire')),
                ('site', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.sitesql')),
                ('user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='donnees.user')),
            ],
        ),
        migrations.CreateModel(
            name='UserProfile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ldap_cn', models.CharField(max_length=100, unique=True)),
                ('ldap_sn', models.CharField(max_length=100)),
                ('role', models.CharField(choices=[('admin_technique', 'Administrateur Technique'), ('admin_fonctionnel', 'Administrateur Fonctionnel'), ('responsable_site', 'Responsable Site'), ('technicien_terrain', 'Technicien Terrain')], max_length=30)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('all_sites', models.BooleanField(default=False)),
                ('sites', models.ManyToManyField(blank=True, related_name='user_profiles', to='donnees.sitesql')),
            ],
        ),
        migrations.CreateModel(
            name='Ville',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('actif', models.BooleanField(default=True)),
                ('designation', models.CharField(max_length=255)),
                ('display_name', models.CharField(max_length=255)),
                ('id_region', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='villes', to='donnees.region')),
            ],
        ),
        migrations.AddField(
            model_name='sitesql',
            name='id_ville',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='donnees.ville'),
        ),
        migrations.CreateModel(
            name='DetailPlanificationIntervention',
            fields=[
                ('detail_planification', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, primary_key=True, serialize=False, to='donnees.detailplanification')),
                ('intervention', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='donnees.intervention')),
            ],
            options={
                'db_table': 'detail_planification_intervention',
                'managed': True,
            },
        ),
        migrations.AddConstraint(
            model_name='interventionattachement',
            constraint=models.UniqueConstraint(fields=('intervention', 'photo'), name='unique_intervention_photo'),
        ),
        migrations.AddConstraint(
            model_name='interventionintervenants',
            constraint=models.UniqueConstraint(fields=('intervention', 'intervenant'), name='unique_intervention_intervenant'),
        ),
        migrations.AddField(
            model_name='interventionprestataire',
            name='prestataire',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='donnees.prestataire'),
        ),
        migrations.AddConstraint(
            model_name='detailplanificationintervention',
            constraint=models.UniqueConstraint(fields=('detail_planification', 'intervention'), name='unique_detail_planification_intervention'),
        ),
        migrations.AddConstraint(
            model_name='interventionprestataire',
            constraint=models.UniqueConstraint(fields=('intervention', 'prestataire'), name='unique_intervention_prestataire'),
        ),
    ]
